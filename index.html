<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sadaf Hub Pro - Floating UI</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --neon-blue: #00f2ff;
            --neon-pink: #ff00ff;
            --bg: #05050a;
            --gold: #ffcc00;
            --glass: rgba(255, 255, 255, 0.1);
        }

        body {
            background: var(--bg);
            color: white;
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        /* --- Preview / Home Screen with Up-Down Animation --- */
        #preview-screen {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle at center, #111 0%, #05050a 100%);
            z-index: 3000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: 0.8s ease-in-out;
        }

        .floating-title {
            font-size: 2.8rem;
            letter-spacing: 10px;
            font-weight: 900;
            color: white;
            text-shadow: 0 0 20px var(--neon-blue);
            margin-bottom: 60px;
            animation: floatUp 3s ease-in-out infinite; /* Floating Title */
        }

        .floating-title span {
            color: var(--neon-pink);
            text-shadow: 0 0 20px var(--neon-pink);
        }

        .btn-start-large {
            padding: 22px 60px;
            font-size: 2rem;
            border: 3px solid var(--neon-blue);
            border-radius: 60px;
            background: transparent;
            color: var(--neon-blue);
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 0 20px var(--neon-blue);
            text-transform: uppercase;
            animation: floatDown 3s ease-in-out infinite; /* Floating Button */
            transition: 0.3s;
        }

        .btn-start-large:hover {
            background: var(--neon-blue);
            color: black;
            box-shadow: 0 0 50px var(--neon-blue);
        }

        /* Keyframes for Up-Down Movement */
        @keyframes floatUp {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes floatDown {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(20px) scale(1.05); }
        }

        /* --- Main Game UI --- */
        .header {
            width: 100%;
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--glass);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            width: 90vw;
            max-width: 380px;
            padding: 15px;
            background: var(--glass);
            border-radius: 24px;
            border: 1px solid rgba(255,255,255,0.1);
            margin: 30px 0;
        }

        .cell {
            aspect-ratio: 1;
            background: rgba(255,255,255,0.02);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 900;
            border: 1px solid rgba(255,255,255,0.05);
            cursor: pointer;
        }

        .btn-smart {
            background: var(--glass);
            border: 1px solid var(--neon-blue);
            color: white;
            padding: 12px 25px;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }

        /* Modal / Spinner */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            backdrop-filter: blur(15px);
        }
    </style>
</head>
<body>

    <div id="preview-screen">
        <h1 class="floating-title">SADAF HUB <span>PRO</span></h1>
        <button class="btn-start-large" onclick="enterGame()">START MISSION</button>
        <p style="margin-top: 40px; color: #555; letter-spacing: 2px;">READY TO DOMINATE?</p>
    </div>

    <div class="header">
        <div style="font-weight:bold; color:var(--neon-blue);">SADAF HUB</div>
        <button class="btn-smart" style="border-color: var(--gold); color: var(--gold);" onclick="openSpinner()">üéÅ GIFT</button>
    </div>

    <div style="margin-top: 20px; font-size: 1.2rem;">ü™ô <span id="pts" style="color:var(--gold)">0</span> Pts</div>

    <div class="grid" id="board"></div>

    <div id="status" style="color: var(--neon-pink); font-weight: bold; margin-bottom: 20px;">YOUR TURN (O)</div>
    <button class="btn-smart" onclick="resetGame()">RESTART MISSION</button>

    <div id="modal-spinner" class="modal">
        <h2 style="color:var(--gold)">DAILY REWARD</h2>
        <div id="wheel" style="font-size: 4rem; margin: 30px 0;">üéÅ</div>
        <button id="spin-btn" class="btn-smart" style="border-color: var(--gold); width: 200px;" onclick="startSpin()">SPIN NOW</button>
        <div id="timer" style="margin-top: 20px; color: var(--neon-pink); font-family: monospace;"></div>
        <button class="btn-smart" style="margin-top: 40px; border-color: white;" onclick="closeSpinner()">BACK</button>
    </div>

    <script>
        let board = Array(25).fill(null);
        let pts = parseInt(localStorage.getItem('sadaf_pts')) || 100;
        let active = true;

        function updateUI() {
            document.getElementById('pts').innerText = pts;
            localStorage.setItem('sadaf_pts', pts);
        }

        function enterGame() {
            const screen = document.getElementById('preview-screen');
            screen.style.opacity = '0';
            screen.style.transform = 'scale(1.2)';
            setTimeout(() => {
                screen.style.display = 'none';
                createBoard();
                updateUI();
                checkTimer();
            }, 800);
        }

        function createBoard() {
            const el = document.getElementById('board');
            el.innerHTML = '';
            board.forEach((_, i) => {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.id = `c-${i}`;
                cell.onclick = () => {
                    if(!active || board[i]) return;
                    board[i] = 'O'; cell.innerText = 'O'; cell.style.color = 'var(--neon-blue)';
                    if(checkWin('O')) { confetti(); pts += 20; updateUI(); active = false; document.getElementById('status').innerText = "MISSION PASSED!"; }
                    else {
                        active = false; document.getElementById('status').innerText = "AI THINKING...";
                        setTimeout(aiMove, 600);
                    }
                };
                el.appendChild(cell);
            });
        }

        function aiMove() {
            let m = board.indexOf(null); 
            if(m !== -1) {
                board[m] = 'X'; 
                const c = document.getElementById(`c-${m}`);
                c.innerText = 'X'; c.style.color = 'var(--neon-pink)';
                if(checkWin('X')) { document.getElementById('status').innerText = "MISSION FAILED!"; active = false; }
                else { active = true; document.getElementById('status').innerText = "YOUR TURN (O)"; }
            }
        }

        function checkWin(p) {
            for (let i = 0; i < 25; i++) {
                if (board[i] !== p) continue;
                let r = Math.floor(i/5), c = i%5;
                if (c < 3 && board[i+1]===p && board[i+2]===p) return true;
                if (r < 3 && board[i+5]===p && board[i+10]===p) return true;
            }
            return false;
        }

        function openSpinner() { document.getElementById('modal-spinner').style.display = 'flex'; checkTimer(); }
        function closeSpinner() { document.getElementById('modal-spinner').style.display = 'none'; }

        function checkTimer() {
            const last = localStorage.getItem('last_spin');
            const btn = document.getElementById('spin-btn');
            if(last) {
                const diff = Date.now() - parseInt(last);
                const day = 24 * 60 * 60 * 1000;
                if(diff < day) {
                    btn.disabled = true; btn.innerText = "LOCKED";
                    const rem = day - diff;
                    const h = Math.floor(rem/3600000), m = Math.floor((rem%3600000)/60000), s = Math.floor((rem%60000)/1000);
                    document.getElementById('timer').innerText = `NEXT SPIN: ${h}:${m}:${s}`;
                } else {
                    btn.disabled = false; btn.innerText = "SPIN NOW";
                    document.getElementById('timer').innerText = "REWARD READY!";
                }
            }
        }

        function startSpin() {
            pts += Math.floor(Math.random() * 41) + 10;
            localStorage.setItem('last_spin', Date.now().toString());
            updateUI(); confetti(); checkTimer();
            alert("Congrats! Points Added.");
        }

        function resetGame() { board = Array(25).fill(null); active = true; document.getElementById('status').innerText = "YOUR TURN (O)"; createBoard(); }
    </script>
</body>
</html>
